---
import type { CollectionEntry } from "astro:content";
import Tag from "./Tag.astro";

interface Props {
  post: CollectionEntry<"posts">;
  canClick?: boolean;
}

const { post, canClick = true } = Astro.props;
const frontmatter = post.data;
---

<div class="text-pretty">
  <div class="flex flex-wrap items-baseline">
    <span class="mr-2">
      {frontmatter.pubDate.getUTCMonth() + 1}/{
        frontmatter.pubDate.getUTCDate()
      }/{frontmatter.pubDate.getUTCFullYear().toString().slice(2)}</span
    >
    {frontmatter.tags.map((tag) => <Tag tag={tag} />)}
  </div>
  <p class="text-2xl font-bold" }>
    {frontmatter.title}
  </p>
  <p>{frontmatter.description}</p>
  {
    canClick && (
      <a
        href={`/blog/${post.id}/`}
        class="flex flex-row items-center gap-1 underline hover:no-underline"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="1rem"
          height="1rem"
          viewBox="0 0 24 24"
        >
          <path
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 6H6a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6m-7 1l9-9m-5 0h5v5"
          />
        </svg>
        <p>read more</p>
      </a>
    )
  }
</div>

<!-- href={`/blog/${post.id}/`} -->
